post:
  tags:
    - Auth
  summary: Registrar nuevo usuario
  description: |
    Crea un nuevo usuario en el sistema con validaciones completas.

    **Validaciones aplicadas:**
    - Nombre: mínimo 3 caracteres, máximo 100
    - Email: formato válido, único en el sistema
    - Contraseña: mínimo 8 caracteres, máximo 50, debe incluir mayúscula, minúscula, número y carácter especial
    - Confirmación de contraseña: debe coincidir con la contraseña
    
    **Nota sobre idiomas:**
    - Esta documentación está en español, pero los mensajes JSON de la API están en inglés.
    - Si quieres cambiar el idioma de las respuestas de la API, modifica la variable `APP_LOCALE` en tu archivo `.env`:
      - `APP_LOCALE=en` para inglés
      - `APP_LOCALE=es` para español

  operationId: registerUser
  requestBody:
    required: true
    content:
      application/json:
        schema:
          type: object
          required:
            - name
            - email
            - password
            - password_confirmation
          properties:
            name:
              type: string
              minLength: 3
              maxLength: 100
              description: Nombre completo del usuario
              example: Juan Pérez
            email:
              type: string
              format: email
              maxLength: 255
              description: Correo electrónico único del usuario
              example: juan.perez@example.com
            password:
              type: string
              format: password
              minLength: 8
              maxLength: 50
              description: |
                Contraseña del usuario. Debe cumplir con los siguientes requisitos:
                - Mínimo 8 caracteres
                - Máximo 50 caracteres
                - Al menos una letra mayúscula
                - Al menos una letra minúscula
                - Al menos un número
                - Al menos un carácter especial (!@#$%^&*()_-+=[]{}|;:'",.<>/?¿)
              example: Password123!
            password_confirmation:
              type: string
              format: password
              description: Confirmación de la contraseña (debe coincidir exactamente con password)
              example: Password123!
        examples:
          usuarioValido:
            summary: ✅ Usuario válido
            description: Todos los campos son correctos y cumplen con las validaciones
            value:
              name: María García López
              email: maria.garcia@example.com
              password: SecurePass123!
              password_confirmation: SecurePass123!
          
          camposVacios:
            summary: ❌ Todos los campos vacíos
            description: Simula el envío del formulario sin rellenar ningún campo
            value:
              name: ""
              email: ""
              password: ""
              password_confirmation: ""
          
          nombreVacio:
            summary: ❌ Nombre vacío
            description: El campo nombre está vacío
            value:
              name: ""
              email: juan.perez@example.com
              password: Password123!
              password_confirmation: Password123!
          
          nombreMuyCorto:
            summary: ❌ Nombre muy corto
            description: El nombre tiene menos de 3 caracteres
            value:
              name: Jo
              email: juan.perez@example.com
              password: Password123!
              password_confirmation: Password123!
          
          emailVacio:
            summary: ❌ Email vacío
            description: El campo email está vacío
            value:
              name: Juan Pérez
              email: ""
              password: Password123!
              password_confirmation: Password123!
          
          emailFormatoInvalido:
            summary: ❌ Email con formato inválido
            description: El email no tiene un formato válido (falta @)
            value:
              name: Juan Pérez
              email: juan.perez.example.com
              password: Password123!
              password_confirmation: Password123!
          
          emailSinDominio:
            summary: ❌ Email sin dominio completo
            description: El email no tiene un dominio válido (falta .com, .es, etc.)
            value:
              name: Juan Pérez
              email: juan@perez
              password: Password123!
              password_confirmation: Password123!
          
          emailDuplicado:
            summary: ❌ Email ya registrado
            description: El email ya existe en la base de datos (prueba con un email que ya hayas registrado)
            value:
              name: Juan Pérez
              email: existing@example.com
              password: Password123!
              password_confirmation: Password123!
          
          passwordVacio:
            summary: ❌ Contraseña vacía
            description: El campo contraseña está vacío
            value:
              name: Juan Pérez
              email: juan.perez@example.com
              password: ""
              password_confirmation: ""
          
          passwordMuyCorta:
            summary: ❌ Contraseña muy corta
            description: La contraseña tiene menos de 8 caracteres
            value:
              name: Juan Pérez
              email: juan.perez@example.com
              password: Pass1!
              password_confirmation: Pass1!
          
          passwordSinMayuscula:
            summary: ❌ Contraseña sin mayúscula
            description: La contraseña no contiene ninguna letra mayúscula
            value:
              name: Juan Pérez
              email: juan.perez@example.com
              password: password123!
              password_confirmation: password123!
          
          passwordSinMinuscula:
            summary: ❌ Contraseña sin minúscula
            description: La contraseña no contiene ninguna letra minúscula
            value:
              name: Juan Pérez
              email: juan.perez@example.com
              password: PASSWORD123!
              password_confirmation: PASSWORD123!
          
          passwordSinNumero:
            summary: ❌ Contraseña sin número
            description: La contraseña no contiene ningún número
            value:
              name: Juan Pérez
              email: juan.perez@example.com
              password: Password!!!
              password_confirmation: Password!!!
          
          passwordSinCaracterEspecial:
            summary: ❌ Contraseña sin carácter especial
            description: La contraseña no contiene ningún carácter especial
            value:
              name: Juan Pérez
              email: juan.perez@example.com
              password: Password123
              password_confirmation: Password123
          
          passwordSinLetra:
            summary: ❌ Contraseña sin letras
            description: La contraseña solo contiene números y caracteres especiales
            value:
              name: Juan Pérez
              email: juan.perez@example.com
              password: 12345678!@#
              password_confirmation: 12345678!@#
          
          passwordConfirmacionNoCoincide:
            summary: ❌ Las contraseñas no coinciden
            description: La confirmación de contraseña no coincide con la contraseña
            value:
              name: Juan Pérez
              email: juan.perez@example.com
              password: Password123!
              password_confirmation: DifferentPass456!

  responses:
    '201':
      description: Usuario registrado exitosamente
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
                description: Mensaje de confirmación del registro
                example: User registered successfully.
              user:
                type: object
                description: Datos del usuario registrado
                properties:
                  id:
                    type: string
                    format: uuid
                    description: ID único del usuario (UUID v4)
                    example: 9d4e8c1a-3b2f-4d5e-8f9a-1b2c3d4e5f6a
                  name:
                    type: string
                    description: Nombre del usuario
                    example: María García López
                  email:
                    type: string
                    format: email
                    description: Email del usuario
                    example: maria.garcia@example.com
          examples:
            registroExitoso:
              summary: Registro exitoso
              value:
                message: User registered successfully.
                user:
                  id: 9d4e8c1a-3b2f-4d5e-8f9a-1b2c3d4e5f6a
                  name: María García López
                  email: maria.garcia@example.com

    '422':
      description: Error de validación - Datos inválidos o incompletos
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
                description: Mensaje general del error de validación
              errors:
                type: object
                description: Objeto con los errores de cada campo
                additionalProperties:
                  type: array
                  items:
                    type: string
          examples:
            todosLosCamposVacios:
              summary: Todos los campos vacíos
              value:
                message: Validation error. Please check the provided fields.
                errors:
                  name:
                    - The name field is required.
                  email:
                    - The email field is required.
                  password:
                    - The password field is required.
            
            nombreVacio:
              summary: Nombre vacío
              value:
                message: Validation error. Please check the provided fields.
                errors:
                  name:
                    - The name field is required.
            
            nombreMuyCorto:
              summary: Nombre muy corto (menos de 3 caracteres)
              value:
                message: Validation error. Please check the provided fields.
                errors:
                  name:
                    - The name must be between 3 and 100 characters.
            
            emailVacio:
              summary: Email vacío
              value:
                message: Validation error. Please check the provided fields.
                errors:
                  email:
                    - The email field is required.
            
            emailFormatoInvalido:
              summary: Email con formato inválido
              value:
                message: Validation error. Please check the provided fields.
                errors:
                  email:
                    - The email has an invalid format. It should be like email@email.com
            
            emailYaExiste:
              summary: Email ya registrado (duplicado)
              value:
                message: Validation error. Please check the provided fields.
                errors:
                  email:
                    - The email you entered already exists. You must choose another one
            
            passwordVacio:
              summary: Contraseña vacía
              value:
                message: Validation error. Please check the provided fields.
                errors:
                  password:
                    - The password field is required.
            
            passwordMuyCorta:
              summary: Contraseña muy corta (menos de 8 caracteres)
              value:
                message: Validation error. Please check the provided fields.
                errors:
                  password:
                    - The password must contain at least 8 characters, one uppercase, one lowercase, one number, and one special character.
            
            passwordSinMayuscula:
              summary: Contraseña sin letra mayúscula
              value:
                message: Validation error. Please check the provided fields.
                errors:
                  password:
                    - The password must contain at least 8 characters, one uppercase, one lowercase, one number, and one special character.
            
            passwordSinMinuscula:
              summary: Contraseña sin letra minúscula
              value:
                message: Validation error. Please check the provided fields.
                errors:
                  password:
                    - The password must contain at least 8 characters, one uppercase, one lowercase, one number, and one special character.
            
            passwordSinNumero:
              summary: Contraseña sin número
              value:
                message: Validation error. Please check the provided fields.
                errors:
                  password:
                    - The password must contain at least 8 characters, one uppercase, one lowercase, one number, and one special character.
            
            passwordSinLetra:
              summary: Contraseña sin letras
              value:
                message: Validation error. Please check the provided fields.
                errors:
                  password:
                    - The password must contain at least 8 characters, one uppercase, one lowercase, one number, and one special character.
            
            passwordConfirmacionNoCoincide:
              summary: Confirmación de contraseña no coincide
              value:
                message: Validation error. Please check the provided fields.
                errors:
                  password:
                    - The password confirmation does not match.
            
            erroresMultiples:
              summary: Múltiples errores de validación
              value:
                message: Validation error. Please check the provided fields.
                errors:
                  name:
                    - The name must be between 3 and 100 characters.
                  email:
                    - The email has an invalid format. It should be like email@email.com
                  password:
                    - The password must contain at least 8 characters, one uppercase, one lowercase, one number, and one special character.

    '500':
      description: Error interno del servidor
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
                description: Mensaje descriptivo del error interno
                example: An unexpected error occurred. Please try again later.
          examples:
            errorInterno:
              summary: Error interno genérico
              value:
                message: An unexpected error occurred. Please try again later.
            
            errorGeneracionId:
              summary: Error al generar ID de usuario
              value:
                message: "Internal error: User ID not generated."